!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";!function(){function e(e){return function(){return u.run(e,this,arguments)}}function n(e){return e&&(e.length?function(n){return this.queueRunner.testProxyZone.run(e,this,[n])}:function(){return this.queueRunner.testProxyZone.run(e,this)})}var t=function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)};if(!Zone)throw new Error("Missing: zone.js");if("undefined"==typeof jasmine)throw new Error("Missing: jasmine.js");if(jasmine.__zone_patch__)throw new Error("'jasmine' has already been patched with 'Zone'.");jasmine.__zone_patch__=!0;var r=Zone.SyncTestZoneSpec,o=Zone.ProxyZoneSpec;if(!r)throw new Error("Missing: SyncTestZoneSpec");if(!o)throw new Error("Missing: ProxyZoneSpec");var i=Zone.current,u=i.fork(new r("jasmine.describe")),s=jasmine.getEnv();["describe","xdescribe","fdescribe"].forEach(function(n){var t=s[n];s[n]=function(n,r){return t.call(this,n,e(r))}}),["it","xit","fit"].forEach(function(e){var t=s[e];s[Zone.__symbol__(e)]=t,s[e]=function(e,r,o){return arguments[1]=n(r),t.apply(this,arguments)}}),["beforeEach","afterEach"].forEach(function(e){var t=s[e];s[Zone.__symbol__(e)]=t,s[e]=function(e,r){return arguments[0]=n(e),t.apply(this,arguments)}});var c=jasmine.QueueRunner;jasmine.QueueRunner=function(e){function n(n){var t=this;n.onComplete=function(e){return function(){t.testProxyZone=null,i.scheduleMicroTask("jasmine.onComplete",e)}}(n.onComplete),jasmine.UserContext?(n.userContext||(n.userContext=new jasmine.UserContext),n.userContext.queueRunner=this):(n.userContext||(n.userContext={}),n.userContext.queueRunner=this),e.call(this,n)}return t(n,e),n.prototype.execute=function(){for(var n=this,t=Zone.current,r=!1;t;){if(t===i){r=!0;break}t=t.parent}if(!r)throw new Error("Unexpected Zone: "+Zone.current.name);this.testProxyZone=i.fork(new o),Zone.currentTask?e.prototype.execute.call(this):Zone.current.scheduleMicroTask("jasmine.execute().forceTask",function(){return c.prototype.execute.call(n)})},n}(c)}()});